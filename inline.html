<html>

<link rel="stylesheet" type="text/css" href="style.css">

<div class="col">
    <span class="progress id1">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id2">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id3">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id4">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id1">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id2">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id3">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id4">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id1">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id2">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id3">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id4">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id1">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id2">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id3">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id4">
        <span class="icon"></span>
        Text content
    </span>
</div>

<div class="col">
    <span class="progress id1">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id2">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id3">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id4">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id1">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id2">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id3">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id4">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id1">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id2">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id3">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id4">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id1">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id2">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id3">
        <span class="icon"></span>
        Text content
    </span>
    <span class="progress id4">
        <span class="icon"></span>
        Text content
    </span>
</div>

<script type="text/javascript">
// progress, initially bootstrapped from the remote site but after that cached
// in localStorage.
var progress = {
    "id1": "state1",
    "id2": "state2",
    "id3": "state3"
};

// cached regex
var idRegex = /^id/;
var initProgress = function() {
    var els = document.getElementsByClassName("progress");
    for (var i = 0; i < els.length; i++) {
        var el = els[i];

        // read class id
        var classes = el.className.split(" ");

        // find id class
        var id;
        for (var j = 0; j < classes.length; j++) {
            var klass = classes[j];
            if (idRegex.test(klass)) {
                id = klass;
                break;
            }
        }

        // if this id has progress, update the classname!
        if (id in progress) {
            el.className += " " + progress[id];
        }
    }
};

initProgress();
</script>

<img src="http://placekitten.com/200/200" style="width: 200px; height: 200px">

</html>
